<!DOCTYPE html>
<html>
<head>
  <title>Chess Board</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #d7b9347d;
      margin: 0;
    }
    h1, h2 {
      margin: 0 0 10px 0;
      font-family: Arial, sans-serif;
    }
    .chessboard {
      display: grid;
      grid-template-columns: repeat(8, 70px);
      grid-template-rows: repeat(8, 70px);
      border: 2px solid #444;
    }
    .cell {
      width: 70px;
      height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 32px;
      font-family: Arial, sans-serif;
      cursor: pointer;
      user-select: none;
      box-sizing: border-box;
      border: 1px solid #333;
    }
    .light {
      background-color: #c9ad32;
    }
    .dark {
      background-color: #967b00;
    }
    .selected {
      background-color: yellow !important;
    }
  </style>
</head>
<body>
  <h2>Free Online Games</h2>
  <h1>CHESS</h1>

  <div class="chessboard"></div>

<script>
const boardState = [
  ["r", "n", "b", "q", "k", "b", "n", "r"],
  ["p", "p", "p", "p", "p", "p", "p", "p"],
  ["","","","","","","","",],
  ["","","","","","","","",],
  ["","","","","","","","",],
  ["","","","","","","","",],
  ["P","P","P","P","P","P","P","P",],
  ["R","N","B","Q","K","B","N","R",],
]

const pieceIcons = {
"R":"[]","N":"7","B":"()","Q":"W","K":"+","P":"o",
"r":"[]","n":"7","b":"()","q":"W","k":"+","p":"o",
"":"" 
};

const board = document.querySelector(".chessboard");
const boardButtons = [];

let selectedCell = null;
let selectedRow = -1;
let selectedCol = -1;

function createBoard() {
  for (let row = 0; row < 8; row++){
    boardButtons[row] = [];
    for (let col=0; col<8; col++){
      const cell = document.createElement("div");
      cell.className = `cell ${(row + col) % 2 === 0 ? "light" : "dark"}`;
      cell.textContent = pieceIcons[boardState[row][col]];
      cell.dataset.row = row;
      cell.dataset.col = col;
      cell.addEventListener("click", onCellClick);
      board.appendChild(cell);
      boardButtons[row][col] = cell;
    }
  }
}

function onCellClick(e){
  const cell = e.currentTarget;
  const row = parseInt(cell.dataset.row);
  const col = parseInt(cell.dataset.col);

  if(!selectedCell && boardState[row][col] !== ""){
    selectedCell = cell;
    selectedRow = row;
    selectedCol = col;
    cell.classList.add("selected");
  } else if (selectedCell){
    // Move piece in board state
    boardState[row][col] = boardState[selectedRow][selectedCol];
    boardState[selectedRow][selectedCol] = "";

    // Update UI using boardButtons
    boardButtons[row][col].textContent = pieceIcons[boardState[row][col]];
    boardButtons[selectedRow][selectedCol].textContent = "";

    selectedCell.classList.remove("selected");
    selectedCell = null;
    selectedRow = -1;
    selectedCol = -1;
  }
}

createBoard();
</script>
</body>
</html>
